# TPM034A - Machine learning for socio technical system (Q2 - 2023)

## 1. Introduction

Welcome to the git repository of *TPM034A - Machine learning for socio-technical systems course*. Here, you will find notebooks and data for the lab sessions and assignments. Please review the following information carefully.

## 2. Description

Machine Learning (ML) is increasingly seen as a crucial part of the puzzle to solving the socio-technical challenges of today’s networked, urbanised, knowledge societies. Successful adoption of ML does, however, not only require skilled computer scientists that do the hard-core programming. Also, professionals need both domain knowledge of socio-technical systems and a profound understanding of ML.

This course aims to provide students in the socio-technical domain with a profound understanding of ML. It prepares students for the challenges and questions ML will pose to them in their later careers. To this end, the course consists of three parts:

- **Part 1:** Fundamentals of ML
- **Part 2:** Explainability of ML
- **Part 3:** Applications of ML for socio-technical challenges

In part 1, students learn about ML fundamentals and methods. These weeks a critical technical foundation is laid for grasping the strength and weaknesses of ML for the analysis and design of socio-technical systems.

Part 2 is devoted to the explainability of ML. For public decision-making as well as for decision-making in high-stake contexts, such as e.g. autonomous vehicles, legal systems’ transparency and explainability of the models are of critical importance. Students learn several popular explainability techniques and discuss their value for applications in socio-technical systems.

In part 3, a rotating group of TPM scholars provides exemplar applications of ML in socio-tech systems. This serves two purposes: (1) to show where and how ML is applied for analysis and application in socio-technical systems, and (2) to deepen reflection on the impact of ML-based solutions and interventions on individuals, organisations, and society. Consecutively, students work in a group on a final project, building forth on one of the presented applications. This project brings together the three parts of this course. Students need to apply ML models and techniques to real-world data in a notebook, interpret, and communicate their results, taking into account the socio-technical setting through a presentation.

The course consists of oral lectures, lab sessions, and assignments. The aim of the lab sessions is to show and reinforce how the ML models, explainable ML techniques and ML ideas presented in the oral lectures are put to practice. Also, they help students gather hands-on machine learning skills. The lab sessions involve a series of exercises in the form of Jupyter notebooks.

The course consists of 2 oral lectures and 1 lab session per week. Attendance of the lectures and lab sessions is highly recommended to keep up with the course, but not mandatory.

### 1.1. Prerequisite knowledge
We expect students have taken undergraduate courses on the following topics before coming to this course.
    – Statistics & Data analyses (e.g. hypothesis testing, correlation, etc.)
    – Python programming (basic level)

## 2. Calendar

| Week number | Lecture no |   Weekday |       Date |          Time | Teacher | Lecture type |    Topic     |  Materials |
|:-----------:|:----------:|----------:|-----------:|--------------:|--------:|-------------:|-------------:|-----------:|
|      46     |      0     |           |            |               |  Sander |  Lab session |              | [Lab session 0](https://github.com/TPM034A/Q2_2023/blob/main/Lab_sessions/lab_session_00/lab_session_00.ipynb) |
|      46     |     1.1    |    Monday | 13-11-2023 | 13:45 - 15:45 |  Sander |      Opening | Motivation; LOs; Practical info | [Lecture 1](https://brightspace.tudelft.nl/d2l/le/content/598105/viewContent/3559425/View) |
|      46     |     1.2    |   Tuesday | 14-11-2023 | 10:45 - 12:45 |  Sander | Oral lecture | ML; Generalisation; Model development | [Book part 1](https://tudelft.on.worldcat.org/oclc/1124929613) [Lecture 2](https://brightspace.tudelft.nl/d2l/le/content/598105/viewContent/3562326/View) |
|      46     |     1.3    |  Thursday | 16-11-2023 | 10:45 - 12:45 |  Sander |  Lab session | Liveability in NL | [Lab session 1](https://github.com/TPM034A/Q2_2023/blob/main/Lab_sessions/lab_session_01/lab_session_01.ipynb) | 
|      47     |     1.4    |    Monday | 20-11-2023 | 13:45 - 15:45 |  Sander | Oral lecture | Decision trees; Model performance | [Lecture 4](https://brightspace.tudelft.nl/d2l/le/content/598105/viewContent/3565280/View)|
|      47     |  NO CLASS  |   Tuesday | 21-11-2023 | 10:45 - 12:45 |         |        Spare |              |                |
|      47     |     1.5    |  Thursday | 23-11-2023 | 10:45 - 12:45 |  Sander | Oral lecture | Artificial neural networks | [Lecture 5](https://brightspace.tudelft.nl/d2l/le/content/598105/viewContent/3567255/View) |
|      48     |     1.6    |    Monday | 27-11-2023 | 13:45 - 15:45 |  Sander |  Lab session | Mode choice prediction | [Lab session 2](https://github.com/TPM034A/Q2_2023/blob/main/Lab_sessions/lab_session_02/lab_session_02.ipynb)               |
|      48     |  NO CLASS  |   Tuesday | 28-11-2023 | 10:45 - 12:45 | Sander | Oral lecture | Ensembles; Random forest             |                |
|      48     |     1.7    |  Thursday | 30-11-2023 | 10:45 - 12:45 |  Sander | Oral lecture | Causality; Prediction; Exam preparation |           |
|      49     |     1.8    |    Monday | 04-12-2023 | 13:45 - 15:45 |         | SPARE |  |           |
|      49     |     1.9    |   Tuesday | 05-12-2023 | 10:45 - 12:45 |  Sander | Lab session  | Mapping images to attractiveness levels | [Lab session 3](https://github.com/TPM034A/Q2_2023/tree/main/Lab_sessions/lab_session_03) |
|      49     |     2.1    |  Thursday | 07-12-2023 | **08:45 - 10:45** | Giacomo | Oral lecture |              | [Barredo et al. 2020](https://doi.org/10.1016/j.inffus.2019.12.012);[Lundbert & Lee 2017](https://proceedings.neurips.cc/paper_files/paper/2017/hash/8a20a8621978632d76c43dfd28b67767-Abstract.html); [Rolnick et al. 2022](https://doi.org/10.1145/3485128) [Razavi et al. 2021](https://doi.org/10.1016/j.envsoft.2020.104954) |
|      50     |     2.2    |    Monday | 11-12-2023 | 13:45 - 15:45 | Giacomo | Oral lecture |              |                |
|      50     |     2.3    |   Tuesday | 12-12-2023 | 10:45 - 12:45 | Giacomo | Lab session  |              |                |
|      50     |     3.1    |  Thursday | 14-12-2023 | 10:45 - 12:45 |    Amir | Oral lecture | Group projects |                |
|      51     |     3.2    |    Monday | 18-12-2023 | 13:45 - 15:45 |    Amir | Mini project |              |                |
|      51     |  NO CLASS  |   Tuesday | 19-12-2023 | 10:45 - 12:45 |         |        Spare |              |                |
|      51     |     3.3    |  Thursday | 21-12-2023 | 10:45 - 12:45 |    Amir | Mini project |              |                |
|      2      |     3.4    |    Monday | 08-01-2024 | 13:45 - 15:45 |    Amir | Mini project |              |                |
|      2      |  NO CLASS  |   Tuesday | 09-01-2024 | 10:45 - 12:45 |         |        Spare |              |                |
|      2      |     3.5    |  Thursday | 11-01-2024 | 10:45 - 12:45 |    Amir | Oral lecture | Group presentations |                |

## 3. Jupyter notebooks (Lab sessions and Assignments)

For the lab sessions and assignments, we use Python notebooks (Jupyter Notebooks). You have two options to work in them:

- A. Local environment (recommended)
- B. Google Colab

For both options, **instructions** to set up your Python environment are given at the **end of this page**.
Accordingly, in each notebook file, we provide two ways to set up your environments: (A) Local or (B) Google Colab 

If you are **unfamiliar with Python**, we recommend completing **lab session 0**, which provides the necessary tools to conduct the lab sessions. It covers topics such as data structures, utilising external libraries, data exploration, visualisation, etc. 

## 4. Q&A Forum

We use the [Issues](https://github.com/TPM034A/Q2_2023/issues) section as the Q&A platform of this course. Here, you can post your questions related to the content of the lectures, the lab sessions, assignments and technical problems with Python. Before you create a new issue, please make sure the issue has not been raised before by one of your classmates. Besides asking questions, you can comment on the earlier issues e.g. to continue the discussion. As an example, we have already created the first issue; see [Issues](https://github.com/TPM034A/Q2_2023/issues).

To create a new issue (question, discussion or problem) in the course repository, follow these steps:

1. Go to the "Issues" section of the course repository.
2. Click on "New issue" in the green button located at the upper right corner of your screen.
3. Add an informative title to your question or problem (e.g., "Train method from sklearn does not import in my notebookk").
4. Describe your issue clearly and concisely. 
6. Click on "Submit new issue" in the green button below the text description.

After that, the lecturer or teaching assistant will reply to your question. Also, you are allowed (even encouraged) to reply to questions posted by your fellow students! If you know how to help your fellow student with an issue, share your thoughts!

## 5. Instructions to set up your workspace

### a. Local environment (recommended)

To get started, make sure you have a Python 3.7 or a newer version installed (not 3.12). Additionally, ensure you have set up an IPython environment on your computer (Jupyter, VSCode, or any alternatives). We highly recommend VSCode.

Please follow the steps below to set up your environment.

* Step 1: Clone or download this repo to your computer. For download this repo to your computer. On the top of this site, click on (1) *<>Code* tab, then in the green button (2) *Code* and then (3) *Download ZIP* (See numbers 1, 2, and 3 on the following image). Unzip this file into a working folder of your own choice.
![img](https://github.com/TPM034A/Q2_2023/assets/29065260/1b91d8bd-3425-43bd-819a-7ab41a199151)



* Step 2: Now you have two options: (a) Install dependencies in a separate Python environment from your current Python version; (b) Install dependencies for this notebook in your Python version (easy way):
    * Option a: (for those familiar with Python environments):
        * Create a new "virtual environment" (a separate workspace for this course).
        * Install the required packages listed in the requirements.txt file within this environment.
        * Open the notebook you want to work on (Step 1) and make sure it's running in the newly created environment.
                         
    * Option b: (easiest way; for people unfamiliar with Python environments):
        * Open the Python notebook you want to work on (Step 1)
        * Uncomment the line related to using a local set-up and run it (see the figure below).
        * Re-comment the lines to avoid re-installing the dependencies every time you run the notebook.
      ![img](https://github.com/TPM034A/Q2_2023/assets/29065260/db6821fd-00f8-4525-a2d1-0f92728ee1d2)

    * Instructions for creating a new virtual environment (if choose option a):
        * Open your command prompt or terminal.
        * Navigate to the directory where you want to create the environment.
        * Type: python -m venv myenv (Replace myenv with a name you choose for your environment).
        * Activate the environment (on Windows, type: *myenv\Scripts\activate*, on MacOS/Linux, type: *source myenv/bin/activate*).
        * Install requirements from a File. With your environment activated, navigate to the folder containing the requirements.txt file and run: *pip install -r requirements.txt*.

### b. Google Colab 

For this option, you need a Google account,  the Google Chrome web browser, and a stable internet connection.

Please follow the steps we've included below to set up the workspace.

* Step 1: Download this repo to your computer (As we explained in Step 1 for local environment)

* Step 2: Go to [http://colab.research.google.com](http://colab.research.google.com)

* Step 3: Sign in with your Google account (if you are already signed in, skip this step). If you do not have a Google account, you must (temporarily) create one.

* Step 4: Upload the Python notebook you want to work on to Colab. Click on the "Upload" tab and then on the "Choose file" tab, see numbers 1 and 2 in the figure below. Then, navigate to your working folder (Step 1) and select the Python notebook (.ipynb) you want to work on (e.g. lab_session_00.ipynb).
![img](https://github.com/TPM034A/Q2_2023/assets/29065260/b06c76a0-3f3b-47a5-8575-1b0b80703a8c)

* Step 5: Once open, click on "View" >> "Expand sections" on the menu bar.

* Step 6: Importantly, Each notebook has a cell to prepare the data and environment in Google Colab. Uncomment (i.e. remove the '#') the lines related to the Colab set-up in your notebook, see the figure below. Run this cell and wait until finished.
![img](https://github.com/TPM034A/Q2_2023/assets/29065260/ee78baca-474f-47c8-b5e1-166630deecc2)

* Step 7: You are all set! You can work on your notebook.

Finally, note that the requirements files may be updated during the course to include more dependencies if needed.
